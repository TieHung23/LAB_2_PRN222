@page
@model EVDMS.Presentation.Pages.Dealer.IndexModel
@{
    ViewData["Title"] = "Staff Dashboard";
    Layout = "_DealerLayout";
}

<h1 class="h2">Welcome, @Model.StaffFullName</h1>
<p>This is your personal dashboard.</p>

<div class="row">
    <div class="col-md-6">
        <div class="card text-white bg-success mb-3">
            <div class="card-header">Your Total Revenue</div>
            <div class="card-body">
                <h4 class="card-title">@Model.StaffTotalRevenue.ToString("C")</h4>
                <p class="card-text">Total earnings from all your completed sales.</p>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card text-white bg-primary mb-3">
            <div class="card-header">Your Total Orders</div>
            <div class="card-body">
                <h4 class="card-title">@Model.StaffTotalOrders</h4>
                <p class="card-text">Total number of orders you have created.</p>
            </div>
        </div>
    </div>
</div>

<h2 class="mt-4">Your Recent Orders</h2>
<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Vehicle</th>
                <th>Final Price</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var order in Model.RecentStaffOrders)
            {
                <tr>
                    <td>@order.Id.ToString().Substring(0, 8)...</td>
                    <td>@order.Customer.FullName</td>
                    <td>@order.Inventory.VehicleModel.ModelName</td>
                    <td>@order.Payment.FinalPrice.ToString("C")</td>
                    <td>@order.CreatedAt.ToString("dd/MM/yyyy")</td>
                </tr>
            }
        </tbody>
    </table>
</div>